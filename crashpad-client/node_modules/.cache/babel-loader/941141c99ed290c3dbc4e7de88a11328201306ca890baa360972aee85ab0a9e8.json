{"ast":null,"code":"var _jsxFileName = \"/Users/snehaqbee/crashpad_frontend/src/components/registration/forgotPassword.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Modal, Box, Typography, TextField, Button } from \"@mui/material\";\nimport AuthService from \"../../services/registration/authentication\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ForgotPassword = ({\n  open,\n  onClose\n}) => {\n  _s();\n  const [forgotUserName, setForgotUserName] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const [forgotMessage, setForgotMessage] = useState(\"\");\n  const handleForgotPasswordSubmit = () => {\n    AuthService.verifyEmail(forgotUserName).then(response => {\n      setForgotMessage(\"An OTP has been sent to your email to verify the email address.\");\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      setForgotMessage(resMessage);\n    });\n  };\n  const handleVerifyOtp = () => {\n    AuthService.verifyOtp(otp, forgotUserName).then(response => {\n      setForgotMessage(\"OTP verified.\");\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      setForgotMessage(resMessage);\n    });\n  };\n  const handleChangePassword = () => {\n    if (newPassword !== repeatPassword) {\n      setForgotMessage(\"Passwords do not match!\");\n      return;\n    }\n    AuthService.changePassword(newPassword, repeatPassword, forgotUserName).then(response => {\n      setForgotMessage(\"Password has been changed!\");\n      onClose();\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      setForgotMessage(resMessage);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: open,\n    onClose: onClose,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      className: \"modal-box\",\n      style: {\n        width: 400,\n        margin: 'auto',\n        marginTop: '10%',\n        padding: '20px',\n        backgroundColor: 'white',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        className: \"modal-title\",\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        id: \"forgot-username\",\n        label: \"Email Address\",\n        variant: \"outlined\",\n        value: forgotUserName,\n        onChange: e => setForgotUserName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        onClick: handleForgotPasswordSubmit,\n        className: \"modal-button\",\n        children: \"Send OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        id: \"otp\",\n        label: \"OTP\",\n        variant: \"outlined\",\n        value: otp,\n        onChange: e => setOtp(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        onClick: handleVerifyOtp,\n        className: \"modal-button\",\n        children: \"Verify OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        id: \"new-password\",\n        label: \"New Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        value: newPassword,\n        onChange: e => setNewPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        id: \"repeat-password\",\n        label: \"Repeat Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        value: repeatPassword,\n        onChange: e => setRepeatPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        variant: \"contained\",\n        onClick: handleChangePassword,\n        className: \"modal-button\",\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), forgotMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: forgotMessage.includes(\"OTP has been sent\") || forgotMessage.includes(\"OTP verified\") || forgotMessage.includes(\"Password has been changed\") ? \"alert alert-success\" : \"alert alert-danger\",\n          role: \"alert\",\n          children: forgotMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(ForgotPassword, \"j5O8dTgrpFxvsqoMDrd/SnvhB+g=\");\n_c = ForgotPassword;\nexport default ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","Modal","Box","Typography","TextField","Button","AuthService","jsxDEV","_jsxDEV","ForgotPassword","open","onClose","_s","forgotUserName","setForgotUserName","otp","setOtp","newPassword","setNewPassword","repeatPassword","setRepeatPassword","forgotMessage","setForgotMessage","handleForgotPasswordSubmit","verifyEmail","then","response","error","resMessage","data","message","toString","handleVerifyOtp","verifyOtp","handleChangePassword","changePassword","children","className","style","width","margin","marginTop","padding","backgroundColor","borderRadius","variant","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","id","label","value","onChange","e","target","onClick","type","includes","role","_c","$RefreshReg$"],"sources":["/Users/snehaqbee/crashpad_frontend/src/components/registration/forgotPassword.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Box, Typography, TextField, Button } from \"@mui/material\";\nimport AuthService from \"../../services/registration/authentication\";\n\ninterface ForgotPasswordProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nconst ForgotPassword: React.FC<ForgotPasswordProps> = ({ open, onClose }) => {\n  const [forgotUserName, setForgotUserName] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const [forgotMessage, setForgotMessage] = useState(\"\");\n\n  const handleForgotPasswordSubmit = () => {\n    AuthService.verifyEmail(forgotUserName).then(\n      (response) => {\n        setForgotMessage(\"An OTP has been sent to your email to verify the email address.\");\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n        setForgotMessage(resMessage);\n      }\n    );\n  };\n\n  const handleVerifyOtp = () => {\n    AuthService.verifyOtp(otp, forgotUserName).then(\n      (response) => {\n        setForgotMessage(\"OTP verified.\");\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n        setForgotMessage(resMessage);\n      }\n    );\n  };\n\n  const handleChangePassword = () => {\n    if (newPassword !== repeatPassword) {\n      setForgotMessage(\"Passwords do not match!\");\n      return;\n    }\n\n    AuthService.changePassword(newPassword, repeatPassword, forgotUserName).then(\n      (response) => {\n        setForgotMessage(\"Password has been changed!\");\n        onClose();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n        setForgotMessage(resMessage);\n      }\n    );\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Box className=\"modal-box\" style={{ width: 400, margin: 'auto', marginTop: '10%', padding: '20px', backgroundColor: 'white', borderRadius: '8px' }}>\n        <Typography variant=\"h5\" className=\"modal-title\">\n          Forgot Password\n        </Typography>\n        \n        <TextField\n          fullWidth\n          margin=\"normal\"\n          id=\"forgot-username\"\n          label=\"Email Address\"\n          variant=\"outlined\"\n          value={forgotUserName}\n          onChange={(e) => setForgotUserName(e.target.value)}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={handleForgotPasswordSubmit}\n          className=\"modal-button\"\n        >\n          Send OTP\n        </Button>\n\n        <TextField\n          fullWidth\n          margin=\"normal\"\n          id=\"otp\"\n          label=\"OTP\"\n          variant=\"outlined\"\n          value={otp}\n          onChange={(e) => setOtp(e.target.value)}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={handleVerifyOtp}\n          className=\"modal-button\"\n        >\n          Verify OTP\n        </Button>\n        \n        <TextField\n          fullWidth\n          margin=\"normal\"\n          id=\"new-password\"\n          label=\"New Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={newPassword}\n          onChange={(e) => setNewPassword(e.target.value)}\n        />\n        <TextField\n          fullWidth\n          margin=\"normal\"\n          id=\"repeat-password\"\n          label=\"Repeat Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          value={repeatPassword}\n          onChange={(e) => setRepeatPassword(e.target.value)}\n        />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={handleChangePassword}\n          className=\"modal-button\"\n        >\n          Change Password\n        </Button>\n\n        {forgotMessage && (\n          <div className=\"form-group\">\n            <div\n              className={forgotMessage.includes(\"OTP has been sent\") || forgotMessage.includes(\"OTP verified\") || forgotMessage.includes(\"Password has been changed\") ? \"alert alert-success\" : \"alert alert-danger\"}\n              role=\"alert\"\n            >\n              {forgotMessage}\n            </div>\n          </div>\n        )}\n      </Box>\n    </Modal>\n  );\n};\n\nexport default ForgotPassword;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}